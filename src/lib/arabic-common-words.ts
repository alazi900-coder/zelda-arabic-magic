/**
 * Common Arabic words whitelist — words that should NEVER be split
 * by the sentence splitter. These contain non-connecting letters internally
 * but are valid single words.
 * 
 * Organized by pattern to make maintenance easier.
 */

const COMMON_WORDS: string[] = [
  // === Words with د (dal) inside ===
  'المستودع', 'مستودع', 'المدرسة', 'مدرسة', 'المدينة', 'مدينة',
  'المدير', 'مدير', 'المدخل', 'مدخل', 'المدفع', 'مدفع',
  'الجدار', 'جدار', 'القدرة', 'قدرة', 'المدهش', 'مدهش',
  'الأدوات', 'أدوات', 'البداية', 'بداية', 'العداوة', 'عداوة',
  'الهدف', 'أهداف', 'الأداء', 'أداء', 'العدالة', 'عدالة',
  'المادة', 'مادة', 'السيادة', 'سيادة', 'القيادة', 'قيادة',
  'الإدارة', 'إدارة', 'الحديقة', 'حديقة', 'البادية', 'بادية',
  'المدرعة', 'مدرعة', 'المدفعية', 'مدفعية', 'المدمرة', 'مدمرة',
  'الجديد', 'جديد', 'الجديدة', 'جديدة', 'التجديد', 'تجديد',
  'التحديث', 'تحديث', 'الحديث', 'حديث', 'الحديثة', 'حديثة',
  'البعيد', 'بعيد', 'البعيدة', 'بعيدة', 'الشديد', 'شديد',
  'الشديدة', 'شديدة', 'العديد', 'عديد', 'العديدة', 'عديدة',
  'التهديد', 'تهديد', 'التحديد', 'تحديد', 'الإعداد', 'إعداد',
  'الميدان', 'ميدان', 'الوادي', 'وادي', 'البادرة', 'بادرة',
  'القادم', 'قادم', 'القادمة', 'قادمة', 'الصادق', 'صادق',
  'المبادرة', 'مبادرة', 'المحادثة', 'محادثة', 'المغادرة', 'مغادرة',
  'المصادر', 'مصادر', 'المصادفة', 'مصادفة', 'المعادن', 'معادن',
  'الأعداء', 'أعداء', 'الابتداء', 'ابتداء', 'الاعتداء', 'اعتداء',
  'الاقتداء', 'اقتداء', 'الفداء', 'فداء', 'النداء', 'نداء',

  // === Words with ر (ra) inside ===
  'المرتفع', 'مرتفع', 'المرتبة', 'مرتبة', 'المركز', 'مركز',
  'المرحلة', 'مرحلة', 'المرآة', 'مرآة', 'المرجع', 'مرجع',
  'المرصد', 'مرصد', 'المريض', 'مريض', 'المرعب', 'مرعب',
  'المرفق', 'مرفق', 'المراقبة', 'مراقبة', 'المرونة', 'مرونة',
  'الحرارة', 'حرارة', 'الحراسة', 'حراسة', 'الحركة', 'حركة',
  'الكرامة', 'كرامة', 'السرعة', 'سرعة', 'الشراسة', 'شراسة',
  'المروحة', 'مروحة', 'الثروة', 'ثروة', 'البراعة', 'براعة',
  'التربية', 'تربية', 'الترجمة', 'ترجمة', 'المراجعة', 'مراجعة',
  'الطريقة', 'طريقة', 'الحقيقة', 'حقيقة', 'الشريعة', 'شريعة',
  'الكريمة', 'كريمة', 'البريئة', 'بريئة', 'الأريكة', 'أريكة',
  'الحرية', 'حرية', 'المعرفة', 'معرفة', 'التجربة', 'تجربة',
  'الخبرة', 'خبرة', 'الفترة', 'فترة', 'الذاكرة', 'ذاكرة',
  'الإشارة', 'إشارة', 'الإدارة', 'إدارة', 'الخسارة', 'خسارة',
  'التجارة', 'تجارة', 'الزيارة', 'زيارة', 'العمارة', 'عمارة',
  'الحضارة', 'حضارة', 'النظارة', 'نظارة', 'السفارة', 'سفارة',
  'الاستمرار', 'استمرار', 'الانتصار', 'انتصار', 'الانفجار', 'انفجار',
  'الأسرار', 'أسرار', 'الأخطار', 'أخطار', 'الأضرار', 'أضرار',
  'الاختراع', 'اختراع', 'الاعتراف', 'اعتراف', 'الاقتراح', 'اقتراح',
  'الاعتراض', 'اعتراض', 'الافتراض', 'افتراض', 'الاقتراب', 'اقتراب',
  'الشرطة', 'شرطة', 'الأسرة', 'أسرة', 'العشرة', 'عشرة',
  'المغامرة', 'مغامرة', 'المناورة', 'مناورة', 'المحاورة', 'محاورة',
  'المسرحية', 'مسرحية', 'المرجعية', 'مرجعية', 'المركزية', 'مركزية',

  // === Words with و (waw) inside ===
  'الأوغاد', 'أوغاد', 'الأولاد', 'أولاد', 'الأوراق', 'أوراق',
  'الأوقات', 'أوقات', 'الأوامر', 'أوامر', 'الأوائل', 'أوائل',
  'المواقع', 'مواقع', 'المواد', 'مواد', 'الموارد', 'موارد',
  'المواطن', 'مواطن', 'المواصلات', 'مواصلات', 'المواجهة', 'مواجهة',
  'الثورة', 'ثورة', 'الصورة', 'صورة', 'السورة', 'سورة',
  'القوارب', 'قوارب', 'الجوارح', 'جوارح', 'الحوادث', 'حوادث',
  'التواصل', 'تواصل', 'التوازن', 'توازن', 'التواضع', 'تواضع',
  'الجواهر', 'جواهر', 'الدواء', 'دواء', 'السواحل', 'سواحل',
  'الشوارع', 'شوارع', 'الحوار', 'حوار', 'الدوار', 'دوار',
  'القوة', 'قوة', 'الدعوة', 'دعوة', 'النشوة', 'نشوة',
  'الأخوة', 'أخوة', 'العضوية', 'عضوية', 'الهوية', 'هوية',
  'الأولوية', 'أولوية', 'المسؤولية', 'مسؤولية', 'الحيوية', 'حيوية',
  'التوجيه', 'توجيه', 'التوزيع', 'توزيع', 'التوقيع', 'توقيع',
  'التوسع', 'توسع', 'التوقف', 'توقف', 'التوظيف', 'توظيف',
  'الموقف', 'موقف', 'الموسم', 'موسم', 'الموضوع', 'موضوع',
  'المنظور', 'منظور', 'المشهور', 'مشهور', 'المحظور', 'محظور',
  'الضرورة', 'ضرورة', 'الأسطورة', 'أسطورة', 'الثورية', 'ثورية',
  'الجوهري', 'جوهري', 'الجوهرية', 'جوهرية', 'الضروري', 'ضروري',
  'الضرورية', 'ضرورية', 'المحوري', 'محوري', 'المحورية', 'محورية',

  // === Words with ا (alef) inside ===
  'الاستعداد', 'استعداد', 'الانتظار', 'انتظار', 'الاكتشاف', 'اكتشاف',
  'الاختبار', 'اختبار', 'الاجتماع', 'اجتماع', 'الاحتفال', 'احتفال',
  'الاستمرار', 'استمرار', 'الاستقرار', 'استقرار', 'الاستثمار', 'استثمار',
  'الاحترام', 'احترام', 'الاعتذار', 'اعتذار', 'الانتشار', 'انتشار',
  'الشاشة', 'شاشة', 'الطاقة', 'طاقة', 'الساحة', 'ساحة',
  'المسافة', 'مسافة', 'الرسالة', 'رسالة', 'العبادة', 'عبادة',
  'الاستخدام', 'استخدام', 'الاستجابة', 'استجابة', 'الاستعانة', 'استعانة',
  'الاستفادة', 'استفادة', 'الاستقامة', 'استقامة', 'الاستضافة', 'استضافة',
  'الاختلاف', 'اختلاف', 'الاختراق', 'اختراق', 'الاختفاء', 'اختفاء',
  'الانطلاق', 'انطلاق', 'الانتقال', 'انتقال', 'الانتقام', 'انتقام',
  'الاقتصاد', 'اقتصاد', 'الاعتماد', 'اعتماد', 'الاستبداد', 'استبداد',
  'الابتعاد', 'ابتعاد', 'الابتكار', 'ابتكار', 'الابتسامة', 'ابتسامة',
  'الانهيار', 'انهيار', 'الازدهار', 'ازدهار', 'الاستمتاع', 'استمتاع',
  'الحكاية', 'حكاية', 'الرواية', 'رواية', 'النهاية', 'نهاية',
  'الحماية', 'حماية', 'الرعاية', 'رعاية', 'الكفاية', 'كفاية',
  'الولاية', 'ولاية', 'الوقاية', 'وقاية', 'الغاية', 'غاية',

  // === Words with ز (zay) inside ===
  'المنزل', 'منزل', 'المزرعة', 'مزرعة', 'المزيد', 'مزيد',
  'الميزان', 'ميزان', 'الميزة', 'ميزة', 'المزاج', 'مزاج',
  'الجزيرة', 'جزيرة', 'الوزارة', 'وزارة', 'الحزام', 'حزام',
  'المنزلة', 'منزلة', 'الجائزة', 'جائزة', 'الغريزة', 'غريزة',
  'الهزيمة', 'هزيمة', 'العزيمة', 'عزيمة', 'التعزية', 'تعزية',
  'الميزانية', 'ميزانية', 'المركزية', 'مركزية', 'الجزائر', 'جزائر',
  'المزايا', 'مزايا', 'الجوائز', 'جوائز', 'الحواجز', 'حواجز',

  // === Words with ة (ta marbuta) — valid words ending in ة ===
  'مستعمرة', 'المستعمرة', 'مغامرة', 'المغامرة',
  'مسيطرة', 'المسيطرة', 'متطورة', 'المتطورة',
  'مستقرة', 'المستقرة', 'متحضرة', 'المتحضرة',
  'مبعثرة', 'المبعثرة', 'منتشرة', 'المنتشرة',
  'متأخرة', 'المتأخرة', 'معتبرة', 'المعتبرة',
  'مستمرة', 'المستمرة', 'محتقرة', 'المحتقرة',
  'مزدهرة', 'المزدهرة', 'مستديرة', 'المستديرة',
  'متحررة', 'المتحررة', 'متذمرة', 'المتذمرة',
  'مستنفرة', 'المستنفرة', 'متكررة', 'المتكررة',
  'مقررة', 'المقررة', 'مبررة', 'المبررة',
  'مطورة', 'المطورة', 'مصورة', 'المصورة',
  'محررة', 'المحررة', 'مقدرة', 'المقدرة',
  'محاصرة', 'المحاصرة', 'مجاورة', 'المجاورة',
  'مناورة', 'المناورة', 'مبادرة', 'المبادرة',
  'متوفرة', 'المتوفرة', 'مسافرة', 'المسافرة',

  // === Words with ؤ (waw hamza) inside ===
  'المؤسسة', 'مؤسسة', 'المؤتمر', 'مؤتمر', 'المؤامرة', 'مؤامرة',
  'المؤلف', 'مؤلف', 'المؤمن', 'مؤمن', 'المؤثر', 'مؤثر',
  'الرؤية', 'رؤية', 'المسؤول', 'مسؤول', 'التفاؤل', 'تفاؤل',
  'المؤهل', 'مؤهل', 'المؤقت', 'مؤقت', 'المؤيد', 'مؤيد',
  'المؤشر', 'مؤشر', 'المؤنس', 'مؤنس', 'المؤلم', 'مؤلم',
  'المؤسف', 'مؤسف', 'المؤنث', 'مؤنث', 'المؤذن', 'مؤذن',

  // === Words with أ (alef hamza) inside ===
  'المأساة', 'مأساة', 'المبتدأ', 'مبتدأ', 'المنشأ', 'منشأ',
  'التأثير', 'تأثير', 'التأمين', 'تأمين', 'التأكيد', 'تأكيد',
  'التأسيس', 'تأسيس', 'التأهيل', 'تأهيل', 'التأخير', 'تأخير',
  'التأمل', 'تأمل', 'التأديب', 'تأديب', 'التأليف', 'تأليف',
  'المفاجأة', 'مفاجأة', 'الجرأة', 'جرأة', 'النشأة', 'نشأة',
  'الكفاءة', 'كفاءة', 'البراءة', 'براءة', 'القراءة', 'قراءة',

  // === Words with ى (alef maksura) ===
  'المستوى', 'مستوى', 'المستشفى', 'مستشفى',
  'المنتدى', 'منتدى', 'الملتقى', 'ملتقى',
  'المصطفى', 'مصطفى', 'المرتضى', 'مرتضى',
  'المعنى', 'معنى', 'المبنى', 'مبنى',
  'الأقصى', 'أقصى', 'الأعلى', 'أعلى', 'الأدنى', 'أدنى',
  'الكبرى', 'كبرى', 'الصغرى', 'صغرى', 'الأولى', 'أولى',

  // === Adjectives & participles ===
  'المنتظر', 'منتظر', 'المنتشر', 'منتشر', 'المستقر', 'مستقر',
  'المتطور', 'متطور', 'المتحرر', 'متحرر', 'المنتصر', 'منتصر',
  'المستمر', 'مستمر', 'المقتدر', 'مقتدر', 'المتكرر', 'متكرر',
  'المختصر', 'مختصر', 'المعتدل', 'معتدل', 'المستعد', 'مستعد',
  'الخطير', 'خطير', 'الخطيرة', 'خطيرة', 'الكبير', 'كبير',
  'الكبيرة', 'كبيرة', 'الصغير', 'صغير', 'الصغيرة', 'صغيرة',
  'الأخير', 'أخير', 'الأخيرة', 'أخيرة', 'الشهير', 'شهير',
  'الشهيرة', 'شهيرة', 'القدير', 'قدير', 'الجدير', 'جدير',
  'المشهور', 'مشهور', 'المشهورة', 'مشهورة', 'المعروف', 'معروف',
  'المعروفة', 'معروفة', 'المحدود', 'محدود', 'المحدودة', 'محدودة',
  'الموجود', 'موجود', 'الموجودة', 'موجودة', 'المفقود', 'مفقود',
  'المفقودة', 'مفقودة', 'المولود', 'مولود', 'المقصود', 'مقصود',

  // === Body, nature, geography ===
  'الأعصاب', 'أعصاب', 'الأنهار', 'أنهار', 'الأشجار', 'أشجار',
  'الأمطار', 'أمطار', 'الأحجار', 'أحجار', 'الأزهار', 'أزهار',
  'الصحراء', 'صحراء', 'الأجواء', 'أجواء', 'الخضراء', 'خضراء',
  'الحمراء', 'حمراء', 'البيضاء', 'بيضاء', 'السوداء', 'سوداء',
  'الزرقاء', 'زرقاء',

  // === Abstract / state nouns ===
  'السعادة', 'سعادة', 'الإرادة', 'إرادة', 'الشهادة', 'شهادة',
  'الوحدة', 'وحدة', 'العودة', 'عودة', 'الولادة', 'ولادة',
  'الزيادة', 'زيادة', 'العبادة', 'عبادة', 'الإبادة', 'إبادة',
  'الإفادة', 'إفادة', 'الاستفادة', 'استفادة', 'الريادة', 'ريادة',
  'السلطة', 'سلطة', 'الخطة', 'خطة', 'النقطة', 'نقطة',
  'الرحلة', 'رحلة', 'المشكلة', 'مشكلة', 'الحيلة', 'حيلة',
  'الوسيلة', 'وسيلة', 'الفضيلة', 'فضيلة', 'القبيلة', 'قبيلة',
  'الأصيلة', 'أصيلة', 'الطويلة', 'طويلة', 'الجميلة', 'جميلة',

  // === Verbs (common forms) ===
  'استخدم', 'يستخدم', 'استعمل', 'يستعمل', 'استقبل', 'يستقبل',
  'استطاع', 'يستطيع', 'استمتع', 'يستمتع', 'استفاد', 'يستفيد',
  'اكتشف', 'يكتشف', 'انطلق', 'ينطلق', 'انتظر', 'ينتظر',
  'انتشر', 'ينتشر', 'انتصر', 'ينتصر', 'استمر', 'يستمر',

  // === Game-related common terms ===
  'المستكشف', 'مستكشف', 'المحارب', 'محارب',
  'الوحوش', 'وحوش', 'المهارات', 'مهارات',
  'المعركة', 'معركة', 'الذخيرة', 'ذخيرة',
  'المعدات', 'معدات', 'الأسلحة', 'أسلحة',
  'المستوطنة', 'مستوطنة', 'المقاومة', 'مقاومة',
  'الاستراتيجية', 'استراتيجية', 'المغامرات', 'مغامرات',
  'الشخصيات', 'شخصيات', 'التحديات', 'تحديات',
  'المكافآت', 'مكافآت', 'الاختصارات', 'اختصارات',
  'المخلوقات', 'مخلوقات', 'المستلزمات', 'مستلزمات',
  'المحاربون', 'محاربون', 'المستكشفون', 'مستكشفون',
  'الأبطال', 'أبطال', 'المقاتلون', 'مقاتلون',
  'المهاجمون', 'مهاجمون', 'المدافعون', 'مدافعون',
  'المحاربين', 'محاربين', 'المستكشفين', 'مستكشفين',
  'المقاتلين', 'مقاتلين', 'المهاجمين', 'مهاجمين',
  'المدافعين', 'مدافعين', 'المسافرين', 'مسافرين',
  'الدروع', 'دروع', 'السيوف', 'سيوف', 'الرماح', 'رماح',
  'السهام', 'سهام', 'القلاع', 'قلاع', 'الحصون', 'حصون',
  'الأبراج', 'أبراج', 'الكنوز', 'كنوز', 'الجواهر', 'جواهر',
  'التعويذة', 'تعويذة', 'التعويذات', 'تعويذات',
  'الوصفات', 'وصفات', 'المكونات', 'مكونات',
  'المخزون', 'مخزون', 'المعسكر', 'معسكر',
  'المستودعات', 'مستودعات', 'المختبر', 'مختبر',

  // === Plurals & collective nouns ===
  'المعلومات', 'معلومات', 'المسؤوليات', 'مسؤوليات',
  'المستويات', 'مستويات', 'التطورات', 'تطورات',
  'الاحتياجات', 'احتياجات', 'الإمكانيات', 'إمكانيات',
  'المتطلبات', 'متطلبات', 'المنشورات', 'منشورات',
  'التصرفات', 'تصرفات', 'التوقعات', 'توقعات',
  'الاختيارات', 'اختيارات', 'المحادثات', 'محادثات',
  'الاتصالات', 'اتصالات', 'التحسينات', 'تحسينات',
  'المساهمات', 'مساهمات', 'الملاحظات', 'ملاحظات',
  'التعليمات', 'تعليمات', 'المواصفات', 'مواصفات',
  'الاقتراحات', 'اقتراحات', 'الاعتبارات', 'اعتبارات',
];

/**
 * Set of common Arabic words for O(1) lookup.
 * Includes stripped versions (without ال prefix) for flexible matching.
 */
export const ARABIC_WHITELIST: Set<string> = new Set(COMMON_WORDS);

/**
 * Check if a word (or its stripped form) is in the whitelist
 */
export function isKnownArabicWord(word: string): boolean {
  // Direct match
  if (ARABIC_WHITELIST.has(word)) return true;
  
  // Strip leading ال and check
  if (word.startsWith('\u0627\u0644') && ARABIC_WHITELIST.has(word.slice(2))) return true;
  
  // Strip leading و (conjunction) and check
  if (word.startsWith('\u0648') && word.length > 3) {
    if (ARABIC_WHITELIST.has(word.slice(1))) return true;
    // و + ال
    if (word.startsWith('\u0648\u0627\u0644') && ARABIC_WHITELIST.has(word.slice(3))) return true;
  }
  
  // Strip leading ف (fa) and check
  if (word.startsWith('\u0641') && word.length > 3) {
    if (ARABIC_WHITELIST.has(word.slice(1))) return true;
    if (word.startsWith('\u0641\u0627\u0644') && ARABIC_WHITELIST.has(word.slice(3))) return true;
  }
  
  // Strip leading ب (ba) and check
  if (word.startsWith('\u0628') && word.length > 3) {
    if (ARABIC_WHITELIST.has(word.slice(1))) return true;
    if (word.startsWith('\u0628\u0627\u0644') && ARABIC_WHITELIST.has(word.slice(3))) return true;
  }
  
  // Strip leading ل (lam) and check  
  if (word.startsWith('\u0644') && word.length > 3) {
    if (ARABIC_WHITELIST.has(word.slice(1))) return true;
    if (word.startsWith('\u0644\u0644') && ARABIC_WHITELIST.has(word.slice(2))) return true;
  }
  
  return false;
}
