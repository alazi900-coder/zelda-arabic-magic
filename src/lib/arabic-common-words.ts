/**
 * Common Arabic words whitelist — words that should NEVER be split
 * by the sentence splitter. These contain non-connecting letters internally
 * but are valid single words.
 * 
 * Organized by pattern to make maintenance easier.
 */

const COMMON_WORDS: string[] = [
  // === Words with د (dal) inside ===
  'المستودع', 'مستودع', 'المدرسة', 'مدرسة', 'المدينة', 'مدينة',
  'المدير', 'مدير', 'المدخل', 'مدخل', 'المدفع', 'مدفع',
  'الجدار', 'جدار', 'القدرة', 'قدرة', 'المدهش', 'مدهش',
  'الأدوات', 'أدوات', 'البداية', 'بداية', 'العداوة', 'عداوة',
  'الهدف', 'أهداف', 'الأداء', 'أداء', 'العدالة', 'عدالة',
  'المادة', 'مادة', 'السيادة', 'سيادة', 'القيادة', 'قيادة',
  'الإدارة', 'إدارة', 'الحديقة', 'حديقة', 'البادية', 'بادية',
  'المدرعة', 'مدرعة', 'المدفعية', 'مدفعية', 'المدمرة', 'مدمرة',

  // === Words with ر (ra) inside ===
  'المرتفع', 'مرتفع', 'المرتبة', 'مرتبة', 'المركز', 'مركز',
  'المرحلة', 'مرحلة', 'المرآة', 'مرآة', 'المرجع', 'مرجع',
  'المرصد', 'مرصد', 'المريض', 'مريض', 'المرعب', 'مرعب',
  'المرفق', 'مرفق', 'المراقبة', 'مراقبة', 'المرونة', 'مرونة',
  'الحرارة', 'حرارة', 'الحراسة', 'حراسة', 'الحركة', 'حركة',
  'الكرامة', 'كرامة', 'السرعة', 'سرعة', 'الشراسة', 'شراسة',
  'المروحة', 'مروحة', 'الثروة', 'ثروة', 'البراعة', 'براعة',
  'التربية', 'تربية', 'الترجمة', 'ترجمة', 'المراجعة', 'مراجعة',
  'الطريقة', 'طريقة', 'الحقيقة', 'حقيقة', 'الشريعة', 'شريعة',
  'الكريمة', 'كريمة', 'البريئة', 'بريئة', 'الأريكة', 'أريكة',

  // === Words with و (waw) inside ===
  'الأوغاد', 'أوغاد', 'الأولاد', 'أولاد', 'الأوراق', 'أوراق',
  'الأوقات', 'أوقات', 'الأوامر', 'أوامر', 'الأوائل', 'أوائل',
  'المواقع', 'مواقع', 'المواد', 'مواد', 'الموارد', 'موارد',
  'المواطن', 'مواطن', 'المواصلات', 'مواصلات', 'المواجهة', 'مواجهة',
  'الثورة', 'ثورة', 'الصورة', 'صورة', 'السورة', 'سورة',
  'القوارب', 'قوارب', 'الجوارح', 'جوارح', 'الحوادث', 'حوادث',
  'التواصل', 'تواصل', 'التوازن', 'توازن', 'التواضع', 'تواضع',
  'الجواهر', 'جواهر', 'الدواء', 'دواء', 'السواحل', 'سواحل',
  'الشوارع', 'شوارع', 'الحوار', 'حوار', 'الدوار', 'دوار',

  // === Words with ا (alef) inside ===
  'الاستعداد', 'استعداد', 'الانتظار', 'انتظار', 'الاكتشاف', 'اكتشاف',
  'الاختبار', 'اختبار', 'الاجتماع', 'اجتماع', 'الاحتفال', 'احتفال',
  'الاستمرار', 'استمرار', 'الاستقرار', 'استقرار', 'الاستثمار', 'استثمار',
  'الاحترام', 'احترام', 'الاعتذار', 'اعتذار', 'الانتشار', 'انتشار',
  'الشاشة', 'شاشة', 'الطاقة', 'طاقة', 'الساحة', 'ساحة',
  'المسافة', 'مسافة', 'الرسالة', 'رسالة', 'العبادة', 'عبادة',

  // === Words with ز (zay) inside ===
  'المنزل', 'منزل', 'المزرعة', 'مزرعة', 'المزيد', 'مزيد',
  'الميزان', 'ميزان', 'الميزة', 'ميزة', 'المزاج', 'مزاج',
  'الجزيرة', 'جزيرة', 'الوزارة', 'وزارة', 'الحزام', 'حزام',

  // === Words with ة (ta marbuta) NOT at end of word-part ===
  'مستعمرة', 'المستعمرة', 'مغامرة', 'المغامرة',
  'مسيطرة', 'المسيطرة', 'متطورة', 'المتطورة',
  'مستقرة', 'المستقرة', 'متحضرة', 'المتحضرة',
  'مبعثرة', 'المبعثرة', 'منتشرة', 'المنتشرة',
  'متأخرة', 'المتأخرة', 'معتبرة', 'المعتبرة',

  // === Words with ؤ (waw hamza) inside ===
  'المؤسسة', 'مؤسسة', 'المؤتمر', 'مؤتمر', 'المؤامرة', 'مؤامرة',
  'المؤلف', 'مؤلف', 'المؤمن', 'مؤمن', 'المؤثر', 'مؤثر',
  'الرؤية', 'رؤية', 'المسؤول', 'مسؤول', 'التفاؤل', 'تفاؤل',

  // === Words with أ (alef hamza) inside ===
  'المأساة', 'مأساة', 'المبتدأ', 'مبتدأ', 'المنشأ', 'منشأ',
  'التأثير', 'تأثير', 'التأمين', 'تأمين', 'التأكيد', 'تأكيد',

  // === Words with ى (alef maksura) — usually at end ===
  'المستوى', 'مستوى', 'المستشفى', 'مستشفى',
  'المنتدى', 'منتدى', 'الملتقى', 'ملتقى',

  // === Game-related common terms ===
  'المستكشف', 'مستكشف', 'المحارب', 'محارب',
  'الوحوش', 'وحوش', 'المهارات', 'مهارات',
  'المعركة', 'معركة', 'الذخيرة', 'ذخيرة',
  'المعدات', 'معدات', 'الأسلحة', 'أسلحة',
  'المستوطنة', 'مستوطنة', 'المقاومة', 'مقاومة',
  'الاستراتيجية', 'استراتيجية', 'المغامرات', 'مغامرات',
  'الشخصيات', 'شخصيات', 'التحديات', 'تحديات',
  'المكافآت', 'مكافآت', 'الاختصارات', 'اختصارات',
  'المخلوقات', 'مخلوقات', 'المستلزمات', 'مستلزمات',
];

/**
 * Set of common Arabic words for O(1) lookup.
 * Includes stripped versions (without ال prefix) for flexible matching.
 */
export const ARABIC_WHITELIST: Set<string> = new Set(COMMON_WORDS);

/**
 * Check if a word (or its stripped form) is in the whitelist
 */
export function isKnownArabicWord(word: string): boolean {
  // Direct match
  if (ARABIC_WHITELIST.has(word)) return true;
  
  // Strip leading ال and check
  if (word.startsWith('\u0627\u0644') && ARABIC_WHITELIST.has(word.slice(2))) return true;
  
  // Strip leading و (conjunction) and check
  if (word.startsWith('\u0648') && word.length > 3) {
    if (ARABIC_WHITELIST.has(word.slice(1))) return true;
    // و + ال
    if (word.startsWith('\u0648\u0627\u0644') && ARABIC_WHITELIST.has(word.slice(3))) return true;
  }
  
  // Strip leading ف (fa) and check
  if (word.startsWith('\u0641') && word.length > 3) {
    if (ARABIC_WHITELIST.has(word.slice(1))) return true;
    if (word.startsWith('\u0641\u0627\u0644') && ARABIC_WHITELIST.has(word.slice(3))) return true;
  }
  
  // Strip leading ب (ba) and check
  if (word.startsWith('\u0628') && word.length > 3) {
    if (ARABIC_WHITELIST.has(word.slice(1))) return true;
    if (word.startsWith('\u0628\u0627\u0644') && ARABIC_WHITELIST.has(word.slice(3))) return true;
  }
  
  // Strip leading ل (lam) and check  
  if (word.startsWith('\u0644') && word.length > 3) {
    if (ARABIC_WHITELIST.has(word.slice(1))) return true;
    if (word.startsWith('\u0644\u0644') && ARABIC_WHITELIST.has(word.slice(2))) return true;
  }
  
  return false;
}
