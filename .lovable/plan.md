

# ุฎุทุฉ ุงูุชุนุฏููุงุช

## ุงูููุฒุฉ ุงูุฃููู: ุฅุฒุงูุฉ ุญุฑู ุฃูู ููุฑุฑ (ูุซู "ุงุงูุฎูุงุฑุงุช" โ "ุงูุฎูุงุฑุงุช")

ุฃุฏุงุฉ ุชูุญุต ุงูุชุฑุฌูุงุช ุจุญุซุงู ุนู ุญุงูุงุช ุชูุฑุงุฑ ุญุฑู ุงูุฃูู (ุง) ูุชุชุงููุงูุ ูุชุญุฐู ุงูุฃูู ุงูุฒุงุฆุฏุฉ ุจุฏูู ุชุฑู ูุฑุงุบ ููุงููุง. ูุน ูุธุงู ูุฑุงุฌุนุฉ ูุจู/ุจุนุฏ ูุซู ุงูุฃุฏูุงุช ุงูุณุงุจูุฉ.

### ุฃูุซูุฉ:
```text
"ุงุงูุฎูุงุฑุงุช" โ "ุงูุฎูุงุฑุงุช"
"ุณุงุงุนุฏ" โ "ุณุงุนุฏ"
```

### ุงูุชุบููุฑุงุช:
- **ููู ุฌุฏูุฏ:** `src/components/editor/DuplicateAlefCleanPanel.tsx` โ ููุญุฉ ูุฑุงุฌุนุฉ ุชุนุฑุถ ุงููุต ูุจู/ุจุนุฏ ูุน ุฃุฒุฑุงุฑ ูุจูู/ุฑูุถ/ููุงููุฉ ุนูู ุงููู
- **ุชุนุฏูู:** `src/hooks/useEditorState.ts`:
  - ุฅุถุงูุฉ state: `duplicateAlefResults`
  - ุฏุงูุฉ `handleScanDuplicateAlef`: ุชูุญุต ุงูุชุฑุฌูุงุช ุจุญุซุงู ุนู `ุงุง` ุฃู ุฃูุซุฑ ูุชุฎุชุตุฑูุง ูุฃูู ูุงุญุฏุฉ
  - ุฏูุงู ูุจูู/ุฑูุถ ูุฑุฏู ูุฌูุงุนู
- **ุชุนุฏูู:** `src/pages/Editor.tsx`: ุฅุถุงูุฉ ุฒุฑ ูู ูุงุฆูุฉ ุงูุฃุฏูุงุช ูุนุฑุถ ุงูููุญุฉ

### ุงูููุทู:
```text
regex: /ุง{2,}/g
ุงุณุชุจุฏุงู ุจู: 'ุง' (ุฃูู ูุงุญุฏุฉุ ุจุฏูู ูุฑุงุบ)
```

---

## ุงูููุฒุฉ ุงูุซุงููุฉ: ุชุซุจูุช ูุชุงุฆุฌ ุงูุจุญุซ (Pin Search)

ุนูุฏ ุงูุจุญุซ ุนู ูููุฉ ูุชุนุฏูููุงุ ุงููุต ูุฎุชูู ูู ูุชุงุฆุฌ ุงูุจุญุซ ูุฃู ุงููููุฉ ุชุบูุฑุช. ููุฒุฉ "ุชุซุจูุช" ุชููู ูุชุงุฆุฌ ุงูุจุญุซ ุงูุญุงููุฉ ุญุชู ูู ุชุบูุฑ ุงููุต.

### ููู ุชุนูู:
- ุฒุฑ "ุชุซุจูุช" (๐) ุจุฌุงูุจ ุญูู ุงูุจุญุซ
- ุนูุฏ ุงูุถุบุท: ูุชู ุญูุธ ูุงุฆูุฉ ุงูููุงุชูุญ (keys) ุงูุญุงููุฉ ุงูุธุงูุฑุฉ
- ุงููุชุงุฆุฌ ุชุจูู ุซุงุจุชุฉ ูููุง ุนุฏูู ุงููุณุชุฎุฏู ูู ุงููุตูุต
- ุนูุฏ ุฅูุบุงุก ุงูุชุซุจูุช: ูุนูุฏ ุงูุจุญุซ ููุนูู ุจุดูู ุทุจูุนู

### ุงูุชุบููุฑุงุช:
- **ุชุนุฏูู:** `src/hooks/useEditorState.ts`:
  - ุฅุถุงูุฉ state: `pinnedKeys` (ูู ููุน `Set<string> | null`)
  - ุฅุถุงูุฉ state: `isSearchPinned` (boolean)
  - ุชุนุฏูู `filteredEntries`: ุฅุฐุง ูุงู `pinnedKeys` ููุฌูุฏุงูุ ูุชู ุนุฑุถ ููุท ุงูุนูุงุตุฑ ุงูุชู ููุงุชูุญูุง ูู `pinnedKeys` ุจุฏูุงู ูู ุชุทุจูู ููุชุฑ ุงูุจุญุซ
  - ุฏุงูุฉ `handleTogglePin`: ุชุญูุธ/ุชูุณุญ ุงูููุงุชูุญ ุงููุซุจุชุฉ
- **ุชุนุฏูู:** `src/pages/Editor.tsx`: ุฅุถุงูุฉ ุฒุฑ ๐ ุจุฌุงูุจ ุญูู ุงูุจุญุซ

### ุงูุชูุงุตูู ุงูุชูููุฉ:
```text
// ุนูุฏ ุงูุชุซุจูุช:
pinnedKeys = new Set(filteredEntries.map(e => `${e.msbtFile}:${e.index}`))

// ูู filteredEntries:
if (pinnedKeys) {
  return entries.filter(e => pinnedKeys.has(`${e.msbtFile}:${e.index}`))
}
// ูุฅูุง: ุงูููุชุฑุฉ ุงูุนุงุฏูุฉ
```

---

## ุงููููุงุช ุงููุชุฃุซุฑุฉ:
1. `src/components/editor/DuplicateAlefCleanPanel.tsx` โ ุฌุฏูุฏ
2. `src/hooks/useEditorState.ts` โ ุชุนุฏูู (ุฅุถุงูุฉ ุฃุฏุงุฉ ุงูุฃูู ุงูููุฑุฑ + ุชุซุจูุช ุงูุจุญุซ)
3. `src/pages/Editor.tsx` โ ุชุนุฏูู (ุฒุฑ ุงูุฃูู ุงูููุฑุฑ ูู ุงูุฃุฏูุงุช + ุฒุฑ ุงูุชุซุจูุช ุจุฌุงูุจ ุงูุจุญุซ)

